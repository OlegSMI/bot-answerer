(function(){"use strict";var t={8822:function(t,e,s){var n=s(6369),r=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e(s.VFlowtext),e("vs-button",{staticClass:"open-button",attrs:{circle:"",icon:"",color:"#334dff",size:"xl"},on:{click:function(t){s.activeBot=!s.activeBot}}},[s.activeBot?e("i",{staticClass:"bx bx-x bx-md"}):e("i",{staticClass:"bx bxs-message-square-dots bx-md bx-tada"})]),e("transition",{attrs:{name:"open-window"}},[s.activeBot?e(s.VChatBot,{on:{close:function(t){s.activeBot=!1}}}):t._e()],1)],1)},o=[],a=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"chat-wrapper"},[e("div",{staticClass:"chat-header"},[t._v(" Задайте вопрос боту "),e("i",{staticClass:"bx bx-x close-chat",on:{click:function(t){return s.emit("close")}}})]),e("div",{staticClass:"chat-messages"},[e("div",{staticClass:"chat-content"},[t._l(s.messages,(function(n,r){return e("div",{key:r},[e(s.VMessage,{class:n.author,attrs:{message:n}}),"bot"==n.author?e(s.VButtonsMessage,{attrs:{buttons:n.buts}}):t._e()],1)})),s.botWriting?e(s.VLoadingMessage):t._e()],2)]),e("div",{staticClass:"message-actions"},[e("vs-input",{attrs:{block:"",primary:"",placeholder:"Введите сообщение..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:s.sendMessage()}},model:{value:s.message,callback:function(t){s.message=t},expression:"message"}}),e("i",{staticClass:"bx bxs-send bx-sm",class:s.message.length>0?"send-button":"disable-button",on:{click:function(t){return s.sendMessage()}}})],1)])},i=[],u=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"container"},[s.isBot?e("vs-avatar",{attrs:{circle:"",color:"#334dff",size:"30"}},[e("i",{staticClass:"bx bxs-bot"})]):t._e(),e("div",{staticClass:"message-wrapper",class:s.isBot?"bot-mes":"user-mes"},[t._v(" "+t._s(t.message.msg)+" ")])],1)},c=[],l={__name:"v-message",props:{message:{type:Object,default(){return{}}}},setup(t){const e=t;(0,n.useCssVars)(((t,e)=>({"717edc32":e.backColor})));const s=(0,n.computed)((()=>"bot"==e.message.author)),r=(0,n.computed)((()=>s.value?"#dbd6db":"#334dff"));return{__sfc:!0,props:e,isBot:s,backColor:r}}},f=l,d=s(1001),b=(0,d.Z)(f,u,c,!1,null,"2df76541",null),v=b.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("vs-avatar",{attrs:{circle:"",writing:"",badge:"","badge-color":"#dbd6db",size:"30",color:"#334dff"}},[e("i",{staticClass:"bx bxs-bot"})])],1)},p=[],_={},m=(0,d.Z)(_,g,p,!1,null,null,null),h=m.exports,x=function(){var t=this,e=t._self._c,s=t._self._setupProxy;return e("div",{staticClass:"container"},t._l(t.buttons,(function(n,r){return e("button",{key:r,staticClass:"button",on:{click:function(t){return s.retryAction(n)}}},[t._v(" "+t._s(n)+" ")])})),0)},y=[],C=(s(7658),s(2578));function k(t,e){let s=0;t=t.toLowerCase(),e=e.toLowerCase();for(let n=0;n<t.length&&n<e.length;n++)t[n]!=e[n]&&s++;return s}function w(t){let e,s=["Основное меню","Как дела?"];return"Заказать пиццу"==t?e="Пицца уже в пути, мой друг, что-то еще?":"Найти ключи"==t?e="Вижу, вижу. Кто-то забыл их в кармане своей куртки. Нужно быть менее рассеянным, мой друг.":"Подсказать смысл жизни"==t?e="Это лучше спросить у моего хорошего друга: GPT-3.":t.length<4?e="С такими короткими сообщениями я не работаю, простите.":k(t,"Сделай")<3?e="Вы хотите чтобы я сделал это? Будет сделано!":"Как дела?"==t?e="Чувствую себя отлично!":"Основное меню"==t?(e="Вы снова в главном меню",s=["Заказать пиццу","Найти ключи","Подсказать смысл жизни"]):e="Я вас не понял. Повторите?",{msg:e,author:"bot",buts:s}}const M=(0,C.Q_)("messages",(()=>{const t=(0,n.ref)(!1),e=(0,n.ref)(!1),s=(0,n.ref)([]),r=(0,n.ref)("");function o(t){r.value=t,s.value.push(t)}function a(){setTimeout((()=>e.value=!0),1e3),setTimeout((()=>{e.value=!1,o(w(r.value.msg))}),2e3)}return{sentMessage:t,botWriting:e,treeOfMessages:s,currentMessage:r,sendMesssage:o,checkBotWriting:a}}));var B={__name:"v-buttons-message",props:{buttons:{type:Array,default(){return[]}}},setup(t){const e=M();function s(t){e.sendMesssage({msg:t,author:"user"}),e.checkBotWriting()}return{__sfc:!0,store:e,retryAction:s}}},O=B,V=(0,d.Z)(O,x,y,!1,null,"378ac1c8",null),j=V.exports,P={__name:"v-chat-bot",emits:["close"],setup(t,{emit:e}){const s=M(),r=(0,n.ref)(""),o=(0,n.computed)((()=>s.treeOfMessages)),a=(0,n.computed)((()=>s.botWriting));function i(){r.value.length>0&&(s.sendMesssage({msg:r.value,author:"user"}),s.checkBotWriting(),r.value="")}return{__sfc:!0,emit:e,store:s,message:r,messages:o,botWriting:a,sendMessage:i,VMessage:v,VLoadingMessage:h,VButtonsMessage:j}}},T=P,W=(0,d.Z)(T,a,i,!1,null,"555d78f5",null),Z=W.exports,S=function(){var t=this;t._self._c;return t._m(0)},A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flowtext"},[t._v(" Чтобы открыть помощника "),e("br"),t._v(" нажмите на кнопку в углу ")])}],L={},z=(0,d.Z)(L,S,A,!1,null,"09445d40",null),F=z.exports,E={__name:"App",setup(t){const e=M();e.sendMesssage({msg:"Привет, я с удовольствием помогу тебе. Выбери действие.",author:"bot",buts:["Заказать пиццу","Найти ключи","Подсказать смысл жизни"]});const s=(0,n.ref)(!1);return{__sfc:!0,store:e,activeBot:s,VChatBot:Z,VFlowtext:F}}},q=E,G=(0,d.Z)(q,r,o,!1,null,"7b6336d5",null),Q=G.exports,$=s(8833),D=s.n($);const H=(0,C.WB)();n["default"].config.productionTip=!1,n["default"].use(D()),n["default"].use(H),new n["default"]({render:t=>t(Q)}).$mount("#app")}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,n,r,o){if(!n){var a=1/0;for(l=0;l<t.length;l++){n=t[l][0],r=t[l][1],o=t[l][2];for(var i=!0,u=0;u<n.length;u++)(!1&o||a>=o)&&Object.keys(s.O).every((function(t){return s.O[t](n[u])}))?n.splice(u--,1):(i=!1,o<a&&(a=o));if(i){t.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[n,r,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,a=n[0],i=n[1],u=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(u)var l=u(s)}for(e&&e(n);c<a.length;c++)o=a[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(l)},n=self["webpackChunkbot_answerer"]=self["webpackChunkbot_answerer"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(8822)}));n=s.O(n)})();
//# sourceMappingURL=app.97a2f8bb.js.map